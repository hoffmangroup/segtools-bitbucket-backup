{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/hoffmanlab/segtools.json"}, "html": {"href": "#!/hoffmanlab/segtools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{981b7f63-4900-4255-97c0-c244f833a3ee}ts=python"}}, "type": "repository", "name": "segtools", "full_name": "hoffmanlab/segtools", "uuid": "{981b7f63-4900-4255-97c0-c244f833a3ee}"}, "links": {"attachments": {"href": "data/repositories/hoffmanlab/segtools/issues/35/attachments_page=1.json"}, "self": {"href": "data/repositories/hoffmanlab/segtools/issues/35.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segtools/issues/35/watch"}, "comments": {"href": "data/repositories/hoffmanlab/segtools/issues/35/comments_page=1.json"}, "html": {"href": "#!/hoffmanlab/segtools/issues/35/heatmap-plot-fail-on-segtools-overlap"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/hoffmanlab/segtools/issues/35/vote"}}, "reporter": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "title": "Heatmap Plot Fail on segtools-overlap", "component": null, "votes": 0, "watches": 1, "content": {"raw": "This issue can be easily recreated using `segtools-overlap` with `-b segments` options with on any bed file and gtf file.\r\n\r\nSample Error Log:\r\n\r\n```\r\n#!\r\nPlotting with R function: 'save.overlap.heatmap'\r\nError creating image: overlap/overlap.png. Error message: argument is not interpretable as logical\r\nError creating image: overlap/overlap.slide.png. Error message: argument is not interpretable as logical\r\nError creating image: overlap/overlap.pdf. Error message: argument is not interpretable as logical\r\nError creating image: overlap/overlap.thumb.png. Error message: argument is not interpretable as logical\r\nPlotting completed in 0.1 seconds\r\nSaving html data to file: overlap/overlap.div\r\n```\r\n\r\nThis might be caused by the fact that in file `segtools/overlap.py` line 271 it send a `cluster = cluster` parameter to R, where the `cluster` here is mostly `False`. However, `save.overlap.heatmap` function does not support `cluster` option according to `segtools/R/overlap.R`. This might mess up the location of several parameter, casuing the `argument not interpretable as logical`. \r\n\r\nI tried to test my theory by removing the cluster option, the error is gone, but the resulting graph I get was incorrect. It might be the case that I modified something wrong, I will try modified and test it carefully tomorrow.", "markup": "markdown", "html": "<p>This issue can be easily recreated using <code>segtools-overlap</code> with <code>-b segments</code> options with on any bed file and gtf file.</p>\n<p>Sample Error Log:</p>\n<div class=\"codehilite\"><pre><span></span>Plotting with R function: &#39;save.overlap.heatmap&#39;\nError creating image: overlap/overlap.png. Error message: argument is not interpretable as logical\nError creating image: overlap/overlap.slide.png. Error message: argument is not interpretable as logical\nError creating image: overlap/overlap.pdf. Error message: argument is not interpretable as logical\nError creating image: overlap/overlap.thumb.png. Error message: argument is not interpretable as logical\nPlotting completed in 0.1 seconds\nSaving html data to file: overlap/overlap.div\n</pre></div>\n\n\n<p>This might be caused by the fact that in file <code>segtools/overlap.py</code> line 271 it send a <code>cluster = cluster</code> parameter to R, where the <code>cluster</code> here is mostly <code>False</code>. However, <code>save.overlap.heatmap</code> function does not support <code>cluster</code> option according to <code>segtools/R/overlap.R</code>. This might mess up the location of several parameter, casuing the <code>argument not interpretable as logical</code>. </p>\n<p>I tried to test my theory by removing the cluster option, the error is gone, but the resulting graph I get was incorrect. It might be the case that I modified something wrong, I will try modified and test it carefully tomorrow.</p>", "type": "rendered"}, "assignee": {"display_name": "Sakura Tamaki", "uuid": "{2e49c073-0cbe-4333-96b1-a81988007690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D"}, "html": {"href": "https://bitbucket.org/%7B2e49c073-0cbe-4333-96b1-a81988007690%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282/860719ec-a458-4597-a2c0-04bb410a3373/128"}}, "nickname": "Tamaki_Sakura", "type": "user", "account_id": "557058:8f562ae3-ccee-4990-9d3f-58dc4e5d4282"}, "state": "closed", "version": null, "edited_on": null, "created_on": "2015-06-22T22:41:44.237777+00:00", "milestone": null, "updated_on": "2015-06-23T18:53:37.659490+00:00", "type": "issue", "id": 35}